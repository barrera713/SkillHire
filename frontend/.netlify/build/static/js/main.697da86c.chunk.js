(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{249:function(e,t,a){e.exports=a(417)},254:function(e,t,a){},255:function(e,t,a){},417:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(40),c=a.n(o),l=(a(254),a(255),a(108)),i=a(25),s=a(26),u=a(29),m=a(27),p=a(30),h=a(429),d=a(435),f=a(418),g=a(28),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={expertise:e.target.expertise.value,description:e.target.description.value};a.props.createSkill(t),window.location="/profile/".concat(a.props.seller.id)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"handleTrueFalse",value:function(e){e.preventDefault();var t=e.target.name;this.setState(Object(l.a)({},t,!this.state[t]))}},{key:"render",value:function(){var e=this;return console.log("wutt this",this.props.seller.id),r.a.createElement("div",{className:"login-background"},r.a.createElement(h.a,{className:"skill-form",onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",null,r.a.createElement(d.a,{as:"h3",className:"about-skill"},"How would you like to market yourself?"),r.a.createElement(h.a.Input,{name:"expertise",placeholder:"Skill",type:"text"})),r.a.createElement("div",null,r.a.createElement(d.a,{as:"h3"},"About"),r.a.createElement(h.a.Input,{name:"description",placeholder:"Tell us about your experience",type:"text"})),r.a.createElement(f.a,{className:"skill-button",type:"submit",content:"Confirm",primary:!0})))}}]),t}(r.a.Component),v=Object(g.b)((function(e){return{seller:e.current_user.current_user}}),{createSkill:function(e){return function(t){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/expertise"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t({type:"NEW SKILL",payload:e})}))}}})(E),y=a(37),b=Object(y.a)(),w=a(433),O=a(116),S=a.n(O),j=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={rating:1},a.handleSubmit=function(e){e.preventDefault();var t={content:e.target.content.value,rating:a.state.rating};a.props.createReview(t,a.props.id),console.log("inside handleSubmit in ReviewForm",t,a.props.id)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"onStarClick",value:function(e,t,a){this.setState({rating:e})}},{key:"render",value:function(){var e=this,t=this.state.rating;return r.a.createElement("div",{className:"review-form"},r.a.createElement(h.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",null,r.a.createElement("h3",{className:"raulplz"},"Leave a review"),r.a.createElement(h.a.Input,{name:"content",type:"text",onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement(S.a,{name:"rate1",starCount:5,value:t,onStarClick:function(t){return e.onStarClick(t)}})),r.a.createElement(f.a,null,"Submit")))}}]),t}(r.a.Component),k=Object(g.b)((function(e){return{data:e.contractors.contractors,reviews:e.reviews,id:e.profileData.data.id}}),{createReview:function(e,t){return function(a){console.log("inside review action",e,t),localStorage.token&&"undefined"!==localStorage.token?fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/review/new/").concat(t),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return a({type:"NEW REVIEW",payload:e})})):(window.alert("Only clients can submit reviews"),b.push("/"))}}})(j),C=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 mx-auto text-center text-title text-uppercase pt-5"},r.a.createElement("h1",{className:"display-3"},"404"),r.a.createElement("h1",null,"error"),r.a.createElement("h2",null,"page not found"),r.a.createElement("h3",null,"the requested URL was not found"))))}}]),t}(n.Component),N=a(428),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault();var t={username:e.target.username.value,password:e.target.password.value};a.props.userLogin(t),b.push("/freelancers")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-background"},r.a.createElement(N.a,{className:"form-background"},r.a.createElement(h.a,{onSubmit:this.handleSubmit,className:"form"},r.a.createElement("h2",null,"Username"),r.a.createElement(h.a.Input,{name:"username",placeholder:"username",type:"text"}),r.a.createElement("h2",null,"Password"),r.a.createElement(h.a.Input,{name:"password",placeholder:"password",type:"password"}),r.a.createElement(f.a,{positive:!0},"Sign In"))))}}]),t}(r.a.Component),T=Object(g.b)(null,{userLogin:function(e){return function(t){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return localStorage.setItem("token",e.auth_token)})).then((function(){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/current/user"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return t({type:"THIS USER",payload:e})}))}))}}})(I),x=a(436),R=a(434),U=a(427),_=a(430),A=a(80),L=function(e){return function(t){console.log("fetching seller profile id:",e),localStorage.token&&"undefined"!==localStorage.token?fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/profile/").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return t({type:"PROFILE PAGE",payload:e})})):(window.alert("Must be login to view seller profile"),b.push("/"))}},D=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={activeItem:"home",userSignUp:!1,contractorSignUp:!1},a.handleSubmit=function(e){e.preventDefault();var t={name:e.target.name.value,username:e.target.username.value,password:e.target.password.value,city:e.target.city.value,state:e.target.state.value};a.props.createUser(t),a.closeUserModal(e)},a.contractorSubmit=function(e){e.preventDefault();var t={profile_pic:e.target.name.value,name:e.target.name.value,username:e.target.username.value,password:e.target.password.value,email:e.target.email.value,city:e.target.city.value,state:e.target.state.value};a.props.createContractor(t),a.closeContractorModal(e)},a.handleUserModal=function(e,t){var n=t.name;return a.setState({activeItem:n,userSignUp:!0})},a.closeUserModal=function(e){a.setState({userSignUp:!a.state.userSignUp})},a.handleHome=function(e){a.setState({activeItem:"login"}),b.push("/")},a.handleBrowse=function(e,t){var n=t.name;a.setState({activeItem:n}),window.location="/freelancers"},a.handleContractorModal=function(e,t){var n=t.name;return a.setState({activeItem:n,contractorSignUp:!0})},a.closeContractorModal=function(e){a.setState({contractorSignUp:!a.state.contractorSignUp})},a.searchChange=function(e){e.preventDefault(),a.props.searchTerm(e.target.value),console.log(e.target.value),b.push("/freelancers")},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"logOut",value:function(){localStorage.clear(),b.push("/")}},{key:"render",value:function(){var e=this,t=this.state.activeItem;return r.a.createElement(x.a,{inverted:!0,className:"navbar"},r.a.createElement(R.a,{inverted:!0,pointing:!0,secondary:!0},r.a.createElement(R.a.Item,{name:"login",active:"login"===t,onClick:this.handleHome}),r.a.createElement(R.a.Item,{name:"client sign up",active:"client sign up"===t,onClick:this.handleUserModal}),r.a.createElement(R.a.Item,{name:"seller sign up",active:"contractor sign up"===t,onClick:this.handleContractorModal}),["/freelancers","/profile/:id"].includes(b.location.pathname)?null:r.a.createElement(R.a.Item,{name:"browse",active:"browse"===t,onClick:this.handleBrowse}),r.a.createElement(R.a.Menu,{position:"right"},r.a.createElement(R.a.Item,null,["/freelancers"].includes(b.location.pathname)?r.a.createElement(U.a,{icon:"search",placeholder:"Search...",onChange:function(t){return e.searchChange(t)}}):null),r.a.createElement(R.a.Item,{name:"log out",onClick:this.logOut}))),r.a.createElement(_.a,{open:this.state.userSignUp,onClose:this.closeUserModal},r.a.createElement(_.a.Content,{className:"content-background"},r.a.createElement(h.a,{onSubmit:function(t){return e.handleSubmit(t)},className:"user-form"},r.a.createElement(A.a,null,"Name"),r.a.createElement(h.a.Input,{fluid:!0,Label:!0,name:"name",placeholder:"Full Name",type:"text"}),r.a.createElement(A.a,null,"Username"),r.a.createElement(h.a.Input,{fluid:!0,Label:!0,name:"username",placeholder:"username",type:"text"}),r.a.createElement(A.a,null,"Password"),r.a.createElement(h.a.Input,{fluid:!0,Label:!0,name:"password",placeholder:"password",type:"password"}),r.a.createElement(A.a,null,"City"),r.a.createElement(h.a.Input,{fluid:!0,Label:!0,name:"city",placeholder:"city",type:"text"}),r.a.createElement(A.a,null,"State"),r.a.createElement(h.a.Input,{fluid:!0,label:!0,name:"state",placeholder:"state",type:"text"}),r.a.createElement(f.a,{className:"form-button"},"Confirm")))),r.a.createElement(_.a,{open:this.state.contractorSignUp,onClose:this.closeContractorModal},r.a.createElement(_.a.Content,{className:"content-background"},r.a.createElement(h.a,{onSubmit:function(t){return e.contractorSubmit(t)}},r.a.createElement(A.a,null,"Name"),r.a.createElement(h.a.Input,{name:"name",placeholder:"name",type:"text"}),r.a.createElement(A.a,null,"Last Name"),r.a.createElement(h.a.Input,{name:"username",placeholder:"username",type:"text"}),r.a.createElement(A.a,null,"Password"),r.a.createElement(h.a.Input,{name:"password",placeholder:"password",type:"password"}),r.a.createElement(A.a,null,"Email"),r.a.createElement(h.a.Input,{name:"email",placeholder:"email",type:"email"}),r.a.createElement(A.a,null,"City"),r.a.createElement(h.a.Input,{name:"city",placeholder:"city",type:"text"}),r.a.createElement(A.a,null,"State"),r.a.createElement(h.a.Input,{name:"state",placeholder:"state",type:"text"}),r.a.createElement(f.a,{className:"submit-btn"},"Confirm")))))}}]),t}(n.Component),M=Object(g.b)(null,{createUser:function(e){return function(t){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/join"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t({type:"NEW USER",payload:e})})),console.log("user created")}},createContractor:function(e){return function(t){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/start-earning"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t({type:"NEW CONTRACTOR",payload:e})})).then((function(){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("token",e.auth_token),fetch("/current/user",{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(e){return t({type:"THIS USER",payload:e})}))}))})),b.push("/expertise")}},searchTerm:function(e){return function(t){t({type:"SEARCH TERM",payload:e})}},profile:L})(D),P=a(432),W=a(437),B=function(e){if(""!==e)return e.toLowerCase().split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" ")},H=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(){b.push("./review/new")},a.contractorProfile=function(e){b.push("/profile/".concat(e))},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchContractors()}},{key:"render",value:function(){var e=this,t=this.props.term,a=this.props.sellers.filter((function(e){return e.contractor.name.toLowerCase().includes(t.searchTerm.toLowerCase())||e.contractor_skills.filter((function(e){return e.expertise.toLowerCase().includes(t.searchTerm.toLowerCase())})).length>0})).map((function(t){return t.contractor_skills.map((function(a){return r.a.createElement(P.a,{className:"seller-card",onClick:function(){return e.contractorProfile(t.contractor.id)},image:"https://www.pngkey.com/png/detail/115-1150152_default-profile-picture-avatar-png-green.png",header:B(t.contractor.name),meta:B(a.expertise),description:"".concat(B(t.contractor.city),", ").concat(B(t.contractor.state))})}))})),n=this.props.sellers.map((function(t){return t.contractor_skills.map((function(a){return r.a.createElement(P.a,{onClick:function(){return e.contractorProfile(t.contractor.id)},image:"https://www.pngkey.com/png/detail/115-1150152_default-profile-picture-avatar-png-green.png",header:B(t.contractor.name),meta:B(a.expertise),description:"".concat(B(t.contractor.city),", ").concat(B(t.contractor.state))})}))}));return r.a.createElement("div",{className:"collection-background"},t.searchTerm&&t.searchTerm.length>0?r.a.createElement(N.a,null,r.a.createElement(W.a.Column,{relaxed:!0,columns:4},a)):r.a.createElement(N.a,null,r.a.createElement(W.a,{relaxed:!0,columns:4},n.map((function(e){return r.a.createElement(W.a.Column,null,e)})))))}}]),t}(r.a.Component),J=Object(g.b)((function(e){return{sellers:e.contractors.contractors,term:e.searchTerm}}),{fetchContractors:function(){return function(e){fetch("".concat("https://mighty-ridge-68327.herokuapp.com","/freelancers"),{method:"GET",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then((function(e){return e.json()})).then((function(t){return e({type:"FETCH CONTRACTORS",payload:t})}))}},profile:L})(H),z=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.profile(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props.contractor,t=e.skills,a=e.reviews.map((function(e){return r.a.createElement("div",null,r.a.createElement("p",null,B(e.user.name),": ",e.content," "),r.a.createElement("p",null,r.a.createElement(S.a,{value:e.rating})," "),r.a.createElement("hr",null))})),n=r.a.createElement("div",{className:"seller"},r.a.createElement("div",{className:"center-my-img"},r.a.createElement("img",{src:"https://www.pngkey.com/png/detail/115-1150152_default-profile-picture-avatar-png-green.png",alt:"",className:"profile-img"})),r.a.createElement("h1",null,B(e.name)),r.a.createElement("h3",null,B(t[0].expertise)),r.a.createElement("p",null,t[0].description),r.a.createElement("h3",null,e.email),r.a.createElement("hr",null),r.a.createElement("p",null,"".concat(B(e.city),", ").concat(B(e.state))));return r.a.createElement("div",{className:"main-div"},r.a.createElement("div",null,n),r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("div",{className:"review-list"},a)))}}]),t}(r.a.Component),F=Object(g.b)((function(e){return{contractor:e.profileData.data}}),{profile:L})(z);var G=function(){return r.a.createElement("div",null,r.a.createElement(w.b,{history:b},r.a.createElement(M,null),r.a.createElement(w.c,null,r.a.createElement(w.a,{exact:!0,path:"/",component:T}),r.a.createElement(w.a,{exact:!0,path:"/expertise",component:v}),r.a.createElement(w.a,{exact:!0,path:"/review/new",component:k}),r.a.createElement(w.a,{exact:!0,path:"/freelancers",component:J}),r.a.createElement(w.a,{exact:!0,path:"/profile/:id",component:F}),r.a.createElement(w.a,{component:C}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=a(51),X=a(237),q=a(21),K={users:[]},$={contractors:[],contractor:{},searchTerm:""},Q={newReview:""},Y={current_user:{}},Z={searchTerm:""},ee=a(239),te={data:{name:"",city:"",state:"",email:"",reviews:[{rating:0,content:"",contractor_id:0,user_id:0,user:{name:"",city:"",state:"",username:""}}],skills:[{id:0,expertise:"",description:"",photographer:!1,developer:!1,designer:!1,videoeditor:!1}]}},ae=Object(V.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW USER":return Object(q.a)({},e,{user:t.payload});default:return e}},contractors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH CONTRACTORS":return Object(q.a)({},e,{contractors:t.payload});case"NEW CONTRACTOR":return Object(q.a)({},e,{contractor:t.payload});default:return e}},reviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW REVIEW":return Object(q.a)({},e,{newReview:Object(q.a)({},t.payload,{user:null})});default:return e}},current_user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THIS USER":return Object(q.a)({},e,{current_user:t.payload});default:return e}},searchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH TERM":return Object(q.a)({},e,{searchTerm:t.payload});default:return e}},profileData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE PAGE":return Object(q.a)({},e.data,{data:t.payload});case"NEW REVIEW":return console.log("ugabuga",t.payload),Object(q.a)({},e,{data:Object(q.a)({},e.data,{reviews:[].concat(Object(ee.a)(e.data.reviews),[t.payload])})});default:return e}}}),ne=[X.a],re=Object(V.e)(ae,{},Object(V.d)(V.a.apply(void 0,ne),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));c.a.render(r.a.createElement(g.a,{store:re},r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[249,1,2]]]);
//# sourceMappingURL=main.697da86c.chunk.js.map